{"version":3,"sources":["utility.ts"],"names":["constructTwilioError","message","code","InvalidArgumentError","ErrorClass","errorsByCode","get","TwilioError"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,oBAAT,CACLC,OADK,EAELC,IAFK,EAGQ;AACb,MAAI,OAAOD,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,UAAM,IAAIE,0CAAJ,CACJ,iDADI,CAAN;AAGD;;AAED,MAAI,OAAOD,IAAP,KAAgB,QAApB,EAA8B;AAC5B,UAAM,IAAIC,0CAAJ,CACJ,8CADI,CAAN;AAGD;;AAED,QAAMC,UAAU,GAAGC,wBAAaC,GAAb,CAAiBJ,IAAjB,CAAnB;;AAEA,SAAO,OAAOE,UAAP,KAAsB,WAAtB,GACH,IAAIA,UAAJ,CAAeH,OAAf,CADG,GAEH,IAAIM,wBAAJ,CAAgBN,OAAhB,EAAyBC,IAAzB,CAFJ;AAGD","sourcesContent":["import { errorsByCode } from './generated';\nimport { TwilioError } from './TwilioError';\nimport { InvalidArgumentError } from './InvalidArgumentError';\n\n/**\n * Uses the generated error-code map to create the appropriate error.\n * If the code is \"unexpected\" such that there is no constructor for that\n * specific code, this function will default to a generic {@link TwilioError}.\n *\n * @param message an error message\n * @param code a Twilio error code, for example `31209`\n *\n * @returns a {@link TwilioError} or appropriate sub-class\n */\nexport function constructTwilioError(\n  message: string,\n  code: number\n): TwilioError {\n  if (typeof message !== 'string') {\n    throw new InvalidArgumentError(\n      'The \"message\" argument is not of type \"string\".'\n    );\n  }\n\n  if (typeof code !== 'number') {\n    throw new InvalidArgumentError(\n      'The \"code\" argument is not of type \"number\".'\n    );\n  }\n\n  const ErrorClass = errorsByCode.get(code);\n\n  return typeof ErrorClass !== 'undefined'\n    ? new ErrorClass(message)\n    : new TwilioError(message, code);\n}\n"]}